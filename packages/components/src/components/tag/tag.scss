@use "sass:map";
@use "@db-ui/foundations/build/scss/init" as *;
@use "@db-ui/foundations/build/scss/variables" as *;
@use "@db-ui/foundations/build/scss/variables.global" as var;
@use "@db-ui/foundations/build/scss/color-placeholder" as *;
@use "@db-ui/foundations/build/scss/helpers/component" as component;
@use "@db-ui/foundations/build/scss/helpers/font" as *;
@use "../../styles/button-components" as *;
@use "../../styles/tag-components" as *;
@use "@db-ui/foundations/build/scss/helpers/functions" as functions;

.db-tag {
	@extend %focus-placeholder;
	@extend %default-interactive-component;
	@extend %component-border;
	@extend %db-overwrite-font-size-sm;
	@extend %default-button;

	block-size: var.$db-sizing-sm;
	min-inline-size: var.$db-sizing-sm;
	inline-size: fit-content;

	&:not(&[data-interactive="true"]) {
		@include get-tag-colors();
	}

	&[data-interactive="true"] {
		@include get-tag-colors-interactive();
	}

	input {
		@include functions.a11y-visually-hidden();
	}

	.tag-label {
		@extend %db-overwrite-font-size-sm;
		display: block;

		&:not(.is-icon-text-replace) {
			margin-inline: var.$db-spacing-fixed-2xs;
			/*
			::before {
				margin-inline-end: var.$db-spacing-fixed-2xs;
			}
*/
		}

		&[data-overflow="true"] {
			max-inline-size: var.$db-sizing-2xl;
			text-overflow: ellipsis;
			overflow: hidden;
		}

		&[data-icon] {
			--db-icon-margin-end: #{var.$db-spacing-fixed-3xs};

			&::before {
				vertical-align: top;
			}
		}
	}

	.db-button[data-size="small"] {
		border-radius: functions.to-rem(3);
		block-size: 100%;
	}

	&[data-disabled="true"] {
		opacity: component.$default-disabled-opacity;
		pointer-events: none;
	}
}
